edition: 3.0.0
name: camel-insemination-app
access: "default"

resources:
  insemination-handler:
    component: fc3
    props:
      region: "me-central-1"
      functionName: "insemination-handler"
      description: "Function to process camel insemination lifecycle."
      runtime: "nodejs18"
      handler: "index.sendMessage"
      timeout: 60
      code: ./
      
      environmentVariables:
        ALIYUN_ACCESS_KEY_ID: "${file(.env).ALIYUN_ACCESS_KEY_ID}"
        ALIYUN_ACCESS_KEY_SECRET: "${file(.env).ALIYUN_ACCESS_KEY_SECRET}"
        MNS_ACCOUNT_ID: "${file(.env).MNS_ACCOUNT_ID}"
        MNS_REGION: "me-central-1"
        MNS_QUEUE_NAME: "${file(.env).MNS_QUEUE_NAME}"
        FCM_CREDENTIALS_JSON: "${file(.env).FCM_CREDENTIALS_JSON}"
        MONGO_URI: "${file(.env).MONGO_URI}"
        MONGO_DBNAME: "${file(.env).MONGO_DBNAME}"